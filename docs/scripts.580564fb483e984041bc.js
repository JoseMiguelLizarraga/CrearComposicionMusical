const configuracionesProyecto={rutaWebApi:"https://crear-composicion-musical.herokuapp.com/api"};function selectBuscador(e){var t="",l=e.params,o=null,n=null;if(null!=e.querySelector&&""!=e.querySelector)o=document.querySelector(e.querySelector);else{if(!(null!=e.objetoHTML&&e.objetoHTML instanceof Object&&"select"==e.objetoHTML.localName))return console.log("No se recibio un querySelector o un objetoHTML para saber que select ocupar en el buscador");o=e.objetoHTML}var a=o.parentElement,i=Array.from(a.childNodes).find(e=>null!=e.localName&&"input"==e.localName),r=null!=e.mensajeBuscando?e.mensajeBuscando:"buscando ...";function s(){null!=n&&o.appendChild(n)}if(null==o.getAttribute("pagina")&&(o.setAttribute("pagina","1"),o.setAttribute("estaCompleto","false")),null==e.optionSelected||["",null].includes(e.optionSelected.id)||["",null].includes(e.optionSelected.text))null!=(n=Array.from(o.options).find(e=>1==e.selected))&&(o.setAttribute("textoSeleccionado",n.text),o.setAttribute("valorSeleccionado",n.value),s());else{var u=document.createElement("option");u.text=e.optionSelected.text,u.value=e.optionSelected.id,u.selected=!0,n=u,o.setAttribute("textoSeleccionado",e.optionSelected.text),o.setAttribute("valorSeleccionado",e.optionSelected.id),s()}function c(l={}){l[e.registrosPorPagina.nombre]=e.registrosPorPagina.valor;var a=parseInt(o.getAttribute("pagina"));l[e.nombrePagina]=a,l[e.nombreBusqueda]=""!=t?t:null;var r="?"+Object.entries(l).map(e=>e.join("=")).join("&"),s=o.scrollTop;fetch(e.url+r,{method:"GET",headers:{Authorization:null!=e.token?"Bearer "+e.token:null}}).then(e=>e.json()).then(e=>{i.disabled=!1,o.disabled=!1,i.placeholder="",i.style.display="block",i.focus(),o.style.position="absolute",o.style.zIndex="3000",o.style.width=i.getBoundingClientRect().width+"px";var t=e.Results,l=e.Total;if(t.length>0)if(l>t.length){var r=o.size;o.size=t.length-1,o.size<r&&(o.size=r)}else o.size=t.length<=l?t.length+1:1==t.length&&1==a?2:t.length+1;if(null==i.value||""==i.value)if(null!=o.value&&""!=o.value){var u=Array.from(o.options).find(e=>1==e.selected);1==a&&(o.textContent="",null!=n&&""==n.value&&(o.appendChild(n),o.appendChild(u),o.scrollTo(0,1)),""!=u.value&&(o.appendChild(u),o.scrollTo(0,0))),e.Results.filter(e=>e.id!=u.value).forEach(e=>{var t=document.createElement("option");t.text=e.text,t.value=e.id,o.appendChild(t)})}else 1==a&&(o.textContent="",null!=n&&o.appendChild(n)),e.Results.forEach(e=>{var t=document.createElement("option");t.text=e.text,t.value=e.id,o.appendChild(t)});else e.Results.forEach(e=>{var t=document.createElement("option");t.text=e.text,t.value=e.id,o.appendChild(t)});a>1&&(o.scrollTop=s),o.options.length>=l&&o.setAttribute("estaCompleto","true")}).catch((function(e){console.log("Se encontrÃ³ un error",e)}))}o.addEventListener("change",t=>{i.style.display="none",o.style.position="static",o.style.zIndex="1",o.removeAttribute("size"),o.setAttribute("pagina","1"),o.style.width="100%";var l=Array.from(o.options).find(e=>1==e.selected);o.setAttribute("textoSeleccionado",l.text),o.setAttribute("valorSeleccionado",l.value),null!=e.onchange&&"function"==typeof e.onchange&&e.onchange()}),o.addEventListener("scroll",e=>{if("block"==i.style.display&&"false"==o.getAttribute("estaCompleto")&&e.target.offsetHeight+e.target.scrollTop>=e.target.scrollHeight){null!=i.value&&""!=i.value||(i.placeholder=r),i.disabled=!0,o.disabled=!0;var t=parseInt(o.getAttribute("pagina"));o.setAttribute("pagina",t+1),c(l)}}),o.addEventListener("mousedown",e=>{"select"==e.target.localName&&e.preventDefault()}),o.addEventListener("click",e=>{t="",o.setAttribute("estaCompleto","false"),"select"==e.target.localName&&(i.value="",c(l))}),i.addEventListener("keyup",(function(e){o.setAttribute("estaCompleto","false"),null!=e.target.value&&""!=e.target.value&&(t=e.target.value,o.setAttribute("pagina","1")),null!=e.target.value&&""!=e.target.value||(t=""),o.textContent="",c(l)})),window.addEventListener("click",(function(e){if(!a.contains(e.target)){var t=Array.from(o.options).find(e=>1==e.selected&&""!=e.value);i.disabled=!1,o.disabled=!1,i.placeholder="",i.style.display="none",o.style.position="relative",o.style.zIndex="1",o.removeAttribute("size"),o.setAttribute("pagina","1"),o.setAttribute("estaCompleto","false"),o.style.width="100%",null!=o.value&&""!=o.value&&void 0!==t||s()}})),window.addEventListener("resize",(function(e){o.style.width=i===document.activeElement?i.getBoundingClientRect().width+"px":"100%"}))}